{# src/NTE/AgathoklesBundle/Resources/views/Default/print.html.twig #}
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <title>{{ fiche.codeType|striptags }}</title>

    <link rel="stylesheet" href="{{ asset('bundles/nteagathokles/css/bootstrap.min.css') }}" type="text/css" media="all" />
    <link href="{{ asset('bundles/nteagathokles/css/unifr.101.css') }}" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="{{ asset('bundles/nteagathokles/css/skin.css') }}" type="text/css" media="screen" />
    <link rel="stylesheet" href="{{ asset('bundles/nteagathokles/css/style.css') }}" type="text/css" media="screen" />

    <style type="text/css" media="screen">
        .annexes {
            float: left;
            width: 30%;
        }
        .clear {
            clear: both;
        }
        h2 {
            font-family: "Trebuchet MS",Trebuchet,Tahoma,Verdana,sans-serif;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: -15px;
        }
<!--        h1, h2, strong {-->
<!--            line-height: 40px;-->
<!--        }-->
<!--        p {-->
<!--            margin: -10px 0;-->
<!--        }-->

            @media print {
                .dl-horizontal dt {
                    clear: both;
                    float: none;
                    overflow: none;
                    text-align: left;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    width: 260px;
                }
                .dl-horizontal dd {
                    margin-left: 0;
                }

                .clear{
                    clear: both;
                }
            }

            .clear{
                clear: both;
            }
    </style>

</head>
<body style="width: 90%; margin: auto;">

    <div class="row">
        <div class="row">
            <h1 id="title">Fiche n°{{ fiche.id }} : {{ fiche.codeType|raw }}</h1>
            <br />
        </div>
    </div>

        <div class="row">
            <div class="col-sm-12 col-sm-6">
                <p></strong>Illustration</strong></p>
                    {% if fiche.images.0 is defined %}
                        {% media fiche.images.0.media, 'ppt' with {'alt':  fiche.codeType, 'id': 'image_principale', 'with': '100%', 'class': 'img-thumbnail'} %}
                    {% endif %}
                    <br /><br />
                    {% if 0 and fiche.images|length > 1 %}
                    <div id="gallery" style="width=500px; float:left;">
                        {% for annexe in fiche.images %}
                        <img src="{% path annexe.media, 'small' %}">
                        {% endfor %}
                    </div>
                    {% endif %}
            </div>
            <div class="col-sm-12 col-sm-6">
                <p></strong>Légende</strong></p>
                <p>
                    {% if fiche.legende %}
                        <pre class="bg-primary"><strong>{{ fiche.legende|raw }}</strong></pre>
                    {% else %}
                        Aucune légende
                    {% endif %}
                </p>

                {% if fiche.lieuDeDecouverte %}
                <div id="map33"></div>
                <script src="{{ asset('bundles/nteagathokles/js//leafletjs/leaflet.js') }}" type="text/javascript"></script>
                <script type="text/javascript">
                    var lat;
                    var lng;
                    var marker;

                    var amphoreIcon = L.icon({
                        iconUrl: '{{ asset('bundles/nteagathokles/js/leafletjs/') }}images/marker_amphore.png',
                        iconRetinaUrl: '{{ asset('bundles/nteagathokles/js/leafletjs/') }}marker_amphore-2x.png',
                        shadowUrl: '{{ asset('bundles/nteagathokles/js/leafletjs/') }}images/marker-shadow.png',
                        iconSize: [25, 41],
                        iconAnchor:   [12, 40],
                        popupAnchor:  [1, -45],
                    });

                    var map = L.map('map3', {attributionControl: true, zoomControl:false}).setView([{{ fiche.lieuDeDecouverte.lat }}, {{ fiche.lieuDeDecouverte.lng }}], 5);
                    map.dragging.disable();
                    map.setMaxBounds([[59.689926, -9.239258], [25.363882, 46.538086]]);

                    L.tileLayer('{{ asset('bundles/nteagathokles/maps') }}/{z}/{x}/{y}.png', {
                        maxZoom: 5,
                        minZoom: 5,
                        attribution: 'Carte: OpenStreetMap MapQuest, données <strong>Agathokles/<a href="http://www.unifr.ch">UniFR</a></strong>',
                    }).addTo(map);

                    $( document ).ready(function() {
                        marker = L.marker([{{ fiche.lieuDeDecouverte.lat }}, {{ fiche.lieuDeDecouverte.lng }}], {icon : amphoreIcon}).addTo(map);
                        marker.on("click", function() {
                            window.open("{{ path('lieu_show', { 'id': fiche.lieuDeDecouverte.id }) }}", target="_parent");
                            }
                        );
                    });
                </script>
                {% endif %}
            </div>
        </div>

        <div class="row">
        <div class="row">
                <legend>Timbres</legend>
                <div class="col-sm-6">
                <strong>Numéro</strong>
                    <p>
                        {{ fiche.numero }}
                    </p>
                </div><div class="col-sm-6">
                <strong>Référence bibliographique</strong>
                    <p>
                        {{ fiche.referenceBibliographique }}
                    </p>
                </div><div class="col-sm-6">
                <strong>Lieu de découverte</strong>
                    <p>
                    {% if fiche.lieuDeDecouverte %}
                        {{ fiche.lieuDeDecouverte }} <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
                    {% endif %}
                    </p>
                </div>
        </div>

        <div class="row">
                <legend>Type</legend>
                <div class="col-sm-6">
                <strong>Catégorie</strong>
                    <p>
                    {% if fiche.categorie %}
                        {{ fiche.categorie.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Fabricant</strong>
                    <p>
                    {% if fiche.fabricant %}
                        {{ fiche.fabricant.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Éponyme</strong>
                    <p>
                    {% if fiche.eponyme %}
                        {{ fiche.eponyme.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Mois</strong>
                    <p>
                    {% if fiche.mois %}
                        {{ fiche.mois.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Autre légende</strong>
                    <p>
                    {{ fiche.autrelegende }}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Forme</strong>
                    <p>
                    {% if fiche.forme %}
                        {{ fiche.forme.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Emblème</strong>
                    <p>
                    {% if fiche.embleme %}
                        {{ fiche.embleme.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
        </div>

        <div class="row">
                <legend>Association</legend>
                <div class="col-sm-6">
                <strong>Matrices secondaires</strong>
                    <p>
                    {% for matrice in fiche.matriceSecondaire %}
                        {{ matrice.fiche.codeType }}
                    {% endfor %}
                    </p>
                </div><div class="col-sm-6">
                <strong>Matrice complémentaires</strong>
                    <p>
                    {% for matrice in fiche.matriceComplementaire %}
                        {{ matrice.fiche.codeType }}
                    {% endfor %}
                    </p>
                </div>
        </div>

        <div class="row">
                <legend>Divers</legend>
                <div class="col-sm-6">
                <strong>Date</strong>
                    <p>
                        {{ fiche.date }}
                    </p>
                </div><div class="col-sm-6">
                <strong>Remarques</strong>
                    <p>
                        {{ fiche.remarques|raw }}
                    </p>
                </div>
        </div>

        <div class="row">
                <legend>Matrice</legend>
                <div class="col-sm-6">
                <strong>Position</strong>
                    <p>
                    {% if fiche.position %}
                        {{ fiche.position }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Cadre</strong>
                    <p>
                    {% if fiche.cadre %}
                        {{ fiche.cadre.nom }}
                    {% else %}
                        Inconnu
                    {% endif %}
                    </p>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>Bouton</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.bouton ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>Grenetis</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.grenetis ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>Ombilic</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.ombilic ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                <strong>Séparation</strong>
                    <p>
                        {{ fiche.separation }}
                    </p>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>Légende tournante</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.legendeTournante ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                <strong>Lettre rétrograde</strong>
                    <p>
                        {{ fiche.lettreRetrograde }}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Lettre lunaire</strong>
                    <p>
                        {{ fiche.lettreLunaire }}
                    </p>
                </div><div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>ἐπί omis</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.epi ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>παρὰ</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.para ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>titre (ἰερεύς/ΕΙ) </strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.iereus ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>μέτοικος </strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.metoikos ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>μέτοικος </strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.metoikos ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>μείς </strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.meis ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                <strong>ἐτῆ</strong>
                    <p>
                        {{ fiche.ete }}
                    </p>
                </div>
                <div class="col-sm-6">
                <strong>Particularité orthographique</strong>
                    <p>
                        {{ fiche.particulariteOrthographique }}
                    </p>
                </div>
                <div class="col-sm-6">
                  <div class="row">
                    <div class="col-sm-6">
                        <strong>Retrogravure</strong>
                    </div>
                    <div class="col-md-6">
                        {{ fiche.retrogravure ? '<span class="glyphicon glyphicon-ok text-primary" title="oui" aria-hidden="true"></span>' : '<span class="glyphicon glyphicon-remove text-danger" title="non" aria-hidden="true"></span>' }}
                    </div>
                  </div>
                </div>
        </div>

    <br><br><hr />
    <a href="{{ path('fiche', { 'id': fiche.id }) }}">{{ url('fiche', { 'id': fiche.id }) }}</a>
    <br><br>
</body>
